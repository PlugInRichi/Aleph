#Código de ejemplo para activar los túneles

||||||||||||||| ~/.ssh/config |||||||||||||||||||||
PubkeyAuthentication yes
Host server_jump
  HostName server.dominio.mx
  Port 1818
  User richi
  IdentityFile ~/.ssh/id_rsa
Host server_target
  HostName 192.168.20.29
  Port 22
  User richi
  IdentityFile ~/.ssh/id_rsa
  ProxyJump server_jump

------------- Autenticación por archivo ---------------

#Permitirlo en el archivo de configuración
PasswordAuthentication yes

#Generar el par de llaves en el Host
ssh-keygen -t rsa

#El tipo de la clave se especifica mediante el parámetro -t, y puede ser:
   rsa1 para ssh v1
   rsa, dsa para ssh v2


#Compartir la llave pública
  ssh-copy-id username@remote_host
#Si el tunel ya funciona podemos hacerlo de la siguiente manera:
  ssh-copy-id server_target

#En caso de no tener disponible el ssh-copy-id
  cat ~/.ssh/id_rsa.pub | ssh username@remote_host "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

#Envío de archivos por tuneles
scp host_file.zip server_target:path_file
